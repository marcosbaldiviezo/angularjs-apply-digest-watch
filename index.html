<!DOCTYPE html>
<html ng-app="mainModule">
<head>
    <meta charset="UTF-8">
    <title>Apply</title>
    <script src="angular.min.js"></script>
    <script>
        angular.module("mainModule", [])
            .controller("FirstController", function($scope) {
                $scope.nombre = "Marcos";
                // setTimeout(function() {
                //     $scope.nombre = "Marcos Baldiviezo";
                //     console.log($scope.nombre);
                //     $scope.$apply();
                // }, 2000)                                        // forma incorrecta de llamar a apply

                // setTimeout(function() {
                //     $scope.$apply(function() {
                //         $scope.nombre = "Marcos Baldiviezo";
                //     });
                // }, 2000);

                document.querySelector('#mi_boton').addEventListener("click", function() {
                    // $scope.nombre = "vendi";
                    // console.log($scope.nombre); // esto no actualiza la vista porque esta fuera del apply
                    $scope.$apply(function() {
                        $scope.nombre = "Vendi";
                    });
                });   
            });
    </script>
</head>
<body ng-controller="FirstController">
    <h1>{{nombre}}</h1>
    <button id="mi_boton">Haz click</button>
</body>
</html>